<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Inicio | Cuaderno de Campo</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/css/bootstrap-select.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="estilos.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap" rel="stylesheet">
</head>
<body>
  <div id="header-container"></div>
  <script type="module">
    fetch('header.html')
      .then(res => res.text())
      .then(html => {
        document.getElementById('header-container').innerHTML = html;
        import('./header.js');
      });
  </script>
  <main class="container">
    <h4>Bienvenido</h4>
    <div class="dashboard-cards row" id="dashboard-cards">
      <!-- Tarjetas dinámicas -->
    </div>
    <footer class="container mt-5">
      <small><a href="#">Privacidad</a> • <a href="#">Términos</a></small>
    </footer>
  </main>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
  <script type="module">
    // Renderizar dashboard con datos ficticios si no hay lógica en header.js
    // Puedes migrar la lógica real de dashboard a header.js si lo deseas
    document.getElementById("dashboard-cards").innerHTML = `
      <div class='col-md-3'>
        <a href='fincas.html' style='text-decoration:none;'>
          <div class='mui-card text-center'>
            <i class='bi bi-house-door' style='font-size:2em;color:#43a047'></i>
            <div>Fincas</div>
            <strong>0</strong>
          </div>
        </a>
      </div>
      <div class='col-md-3'>
        <a href='cuarteles.html' style='text-decoration:none;'>
          <div class='mui-card text-center'>
            <i class='bi bi-tree' style='font-size:2em;color:#1976d2'></i>
            <div>Cuarteles</div>
            <strong>0</strong>
          </div>
        </a>
      </div>
      <div class='col-md-3'>
        <a href='tareas.html' style='text-decoration:none;'>
          <div class='mui-card text-center'>
            <i class='bi bi-journal-check' style='font-size:2em;color:#43a047'></i>
            <div>Tareas</div>
            <strong>0</strong>
          </div>
        </a>
      </div>
      <div class='col-md-3'>
        <a href='reportes.html' style='text-decoration:none;'>
          <div class='mui-card text-center'>
            <i class='bi bi-bar-chart' style='font-size:2em;color:#ffb300'></i>
            <div>Reportes</div>
            <strong>0</strong>
          </div>
        </a>
      </div>
    `;
  </script>
  <script>
    // Evita que el dropdown se cierre al hacer clic dentro del menú
    $(document).on('click', '.dropdown-menu', function (e) {
      e.stopPropagation();
    });
  </script>
  <script>
    // Mantener abierto el dropdown mientras el mouse esté sobre el botón o el menú
    $(function() {
      var $dropdown = $('#nav-gestion');
      var $toggle = $('#gestionDropdown');
      var $menu = $('#gestion-dropdown-menu');

      $toggle.on('mouseenter', function() {
        $dropdown.addClass('show');
        $menu.addClass('show');
      });
      $dropdown.on('mouseleave', function() {
        $dropdown.removeClass('show');
        $menu.removeClass('show');
      });
    });
  </script>
</body>
</html>

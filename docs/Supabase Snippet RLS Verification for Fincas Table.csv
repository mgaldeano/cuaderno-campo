schemaname,tablename,policyname,permissive,cmd,roles,qual,with_check
public,aplicadores_operarios,Solo dueño puede borrar operarios,PERMISSIVE,DELETE,{public},"(finca_id IN ( SELECT fincas.id
   FROM fincas
  WHERE (fincas.usuario_id = auth.uid())))",null
public,aplicadores_operarios,Solo dueño puede borrar sus operadores,PERMISSIVE,DELETE,{public},(usuario_id = auth.uid()),null
public,aplicadores_operarios,Solo dueño puede insertar aplicadores/operarios,PERMISSIVE,INSERT,{public},null,"(finca_id IN ( SELECT fincas.id
   FROM fincas
  WHERE (fincas.usuario_id = auth.uid())))"
public,aplicadores_operarios,Solo dueño puede insertar operadores,PERMISSIVE,INSERT,{public},null,(usuario_id = auth.uid())
public,aplicadores_operarios,Solo dueño puede insertar operarios,PERMISSIVE,INSERT,{public},null,"(finca_id IN ( SELECT fincas.id
   FROM fincas
  WHERE (fincas.usuario_id = auth.uid())))"
public,aplicadores_operarios,Solo dueño puede modificar o borrar sus aplicadores/operarios,PERMISSIVE,UPDATE,{public},"(finca_id IN ( SELECT fincas.id
   FROM fincas
  WHERE (fincas.usuario_id = auth.uid())))",null
public,aplicadores_operarios,Solo dueño puede modificar operarios,PERMISSIVE,UPDATE,{public},"(finca_id IN ( SELECT fincas.id
   FROM fincas
  WHERE (fincas.usuario_id = auth.uid())))",null
public,aplicadores_operarios,Solo dueño puede modificar sus operadores,PERMISSIVE,UPDATE,{public},(usuario_id = auth.uid()),null
public,aplicadores_operarios,Solo dueño puede ver sus aplicadores/operarios,PERMISSIVE,SELECT,{public},"(finca_id IN ( SELECT fincas.id
   FROM fincas
  WHERE (fincas.usuario_id = auth.uid())))",null
public,aplicadores_operarios,Solo dueño puede ver sus operadores,PERMISSIVE,SELECT,{public},(usuario_id = auth.uid()),null
public,aplicadores_operarios,Solo dueño puede ver sus operarios,PERMISSIVE,SELECT,{public},"(finca_id IN ( SELECT fincas.id
   FROM fincas
  WHERE (fincas.usuario_id = auth.uid())))",null
public,aplicadores_operarios,Solo dueño puede ver y modificar,PERMISSIVE,ALL,{authenticated},(auth.uid() = usuario_id),null
public,cuartel_variedades,Permitir DELETE a usuarios autenticados,PERMISSIVE,DELETE,{public},(auth.uid() IS NOT NULL),null
public,cuartel_variedades,Permitir INSERT a usuarios autenticados,PERMISSIVE,INSERT,{public},null,(auth.uid() IS NOT NULL)
public,cuartel_variedades,Permitir SELECT a usuarios autenticados,PERMISSIVE,SELECT,{public},(auth.uid() IS NOT NULL),null
public,cuartel_variedades,Permitir UPDATE a usuarios autenticados,PERMISSIVE,UPDATE,{public},(auth.uid() IS NOT NULL),(auth.uid() IS NOT NULL)
public,cuartel_variedades,Solo dueño del cuartel puede ver,PERMISSIVE,SELECT,{authenticated},"(EXISTS ( SELECT 1
   FROM cuarteles
  WHERE ((cuarteles.id = cuartel_variedades.cuartel_id) AND (cuarteles.finca_id IN ( SELECT fincas.id
           FROM fincas
          WHERE (fincas.usuario_id = auth.uid()))))))",null
public,cuartel_variedades,Usuarios autenticados pueden insertar variedades por cuartel,PERMISSIVE,INSERT,{authenticated},null,true
public,cuartel_variedades,Usuarios autenticados pueden ver variedades por cuartel,PERMISSIVE,SELECT,{authenticated},true,null
public,cuarteles,Admins e ingenieros pueden ver todos los cuarteles,PERMISSIVE,SELECT,{authenticated},"(true OR (((auth.jwt() -> 'user_metadata'::text) ->> 'rol'::text) = ANY (ARRAY['admin'::text, 'superadmin'::text, 'ingeniero'::text])))",null
public,cuarteles,Solo dueño de la finca puede ver y modificar,PERMISSIVE,ALL,{authenticated},"(finca_id IN ( SELECT fincas.id
   FROM fincas
  WHERE (fincas.usuario_id = auth.uid())))",null
public,cuarteles,admin superadmin e ingeniero puede ver todos los cuarteles,PERMISSIVE,SELECT,{public},"((EXISTS ( SELECT 1
   FROM usuarios u
  WHERE ((u.id = auth.uid()) AND (u.rol = ANY (ARRAY['admin'::text, 'superadmin'::text, 'ingeniero'::text]))))) OR (EXISTS ( SELECT 1
   FROM fincas f
  WHERE ((f.id = cuarteles.finca_id) AND (f.usuario_id = auth.uid())))))",null
public,cuarteles,insert own cuartel,PERMISSIVE,INSERT,{authenticated},null,"(EXISTS ( SELECT 1
   FROM fincas
  WHERE ((fincas.id = cuarteles.finca_id) AND (fincas.usuario_id = auth.uid()))))"
public,cuarteles,select own cuarteles,PERMISSIVE,SELECT,{authenticated},"(EXISTS ( SELECT 1
   FROM fincas
  WHERE ((fincas.id = cuarteles.finca_id) AND (fincas.usuario_id = auth.uid()))))",null
public,especies,Solo lectura para usuarios autenticados,PERMISSIVE,SELECT,{authenticated},true,null
public,especies,especies_all_authenticated,PERMISSIVE,ALL,{public},(auth.role() = 'authenticated'::text),null
public,fertilizantes,Permitir DELETE a usuarios autenticados,PERMISSIVE,DELETE,{public},(auth.uid() IS NOT NULL),null
public,fertilizantes,Permitir INSERT a usuarios autenticados,PERMISSIVE,INSERT,{public},null,(auth.uid() IS NOT NULL)
public,fertilizantes,Permitir UPDATE a usuarios autenticados,PERMISSIVE,UPDATE,{public},(auth.uid() IS NOT NULL),(auth.uid() IS NOT NULL)
public,fertilizantes,Solo lectura para usuarios autenticados,PERMISSIVE,SELECT,{authenticated},true,null
public,fincas,Admins e ingenieros pueden ver todas las fincas,PERMISSIVE,SELECT,{authenticated},"((usuario_id = auth.uid()) OR (((auth.jwt() -> 'user_metadata'::text) ->> 'rol'::text) = ANY (ARRAY['admin'::text, 'superadmin'::text, 'ingeniero'::text])))",null
public,fincas,Ingeniero puede ver todas las fincas,PERMISSIVE,SELECT,{public},"((EXISTS ( SELECT 1
   FROM usuarios u
  WHERE ((u.id = auth.uid()) AND (u.rol = ANY (ARRAY['admin'::text, 'superadmin'::text, 'ingeniero'::text]))))) OR (usuario_id = auth.uid()))",null
public,fincas,Solo dueño puede borrar sus fincas,PERMISSIVE,DELETE,{public},(usuario_id = auth.uid()),null
public,fincas,Solo dueño puede insertar fincas,PERMISSIVE,INSERT,{public},null,(usuario_id = auth.uid())
public,fincas,Solo dueño puede modificar o borrar sus fincas,PERMISSIVE,UPDATE,{public},(usuario_id = auth.uid()),null
public,fincas,Solo dueño puede modificar sus fincas,PERMISSIVE,UPDATE,{public},(usuario_id = auth.uid()),null
public,fincas,Users can delete own fincas,PERMISSIVE,DELETE,{public},(auth.uid() = usuario_id),null
public,fincas,Users can insert own fincas,PERMISSIVE,INSERT,{public},null,(auth.uid() = usuario_id)
public,fincas,Users can update own fincas,PERMISSIVE,UPDATE,{public},(auth.uid() = usuario_id),null
public,fincas,delete own finca,PERMISSIVE,DELETE,{authenticated},(usuario_id = auth.uid()),null
public,fincas,insert own finca,PERMISSIVE,INSERT,{authenticated},null,(usuario_id = auth.uid())
public,fincas,update own finca,PERMISSIVE,UPDATE,{authenticated},(usuario_id = auth.uid()),null
public,fitosanitarios,Solo lectura para usuarios autenticados,PERMISSIVE,SELECT,{authenticated},true,null
public,metodos_de_aplicacion,Permitir DELETE a usuarios autenticados,PERMISSIVE,DELETE,{public},(auth.uid() IS NOT NULL),null
public,metodos_de_aplicacion,Permitir INSERT a usuarios autenticados,PERMISSIVE,INSERT,{public},null,(auth.uid() IS NOT NULL)
public,metodos_de_aplicacion,Permitir SELECT a usuarios autenticados,PERMISSIVE,SELECT,{public},(auth.uid() IS NOT NULL),null
public,metodos_de_aplicacion,Permitir UPDATE a usuarios autenticados,PERMISSIVE,UPDATE,{public},(auth.uid() IS NOT NULL),(auth.uid() IS NOT NULL)
public,metodos_de_aplicacion,Solo lectura para usuarios autenticados,PERMISSIVE,SELECT,{authenticated},true,null
public,operario_finca,Solo dueño puede ver,PERMISSIVE,SELECT,{authenticated},(operario_id = auth.uid()),null
public,organizaciones,Public read organizaciones,PERMISSIVE,SELECT,{public},true,null
public,riegos,Borrar solo mis riegos o los de mis fincas,PERMISSIVE,DELETE,{public},"((auth.uid() = operador_id) OR (finca_id IN ( SELECT fincas.id
   FROM fincas
  WHERE (fincas.usuario_id = auth.uid()))))",null
public,riegos,Modificar solo mis riegos o los de mis fincas,PERMISSIVE,UPDATE,{public},"((auth.uid() = operador_id) OR (finca_id IN ( SELECT fincas.id
   FROM fincas
  WHERE (fincas.usuario_id = auth.uid()))))",null
public,riegos,Permitir insert a usuarios autenticados,PERMISSIVE,INSERT,{public},null,(auth.uid() IS NOT NULL)
public,riegos,Solo dueño o su operario puede ver riegos,PERMISSIVE,SELECT,{public},"((auth.uid() = operador_id) OR (finca_id IN ( SELECT fincas.id
   FROM fincas
  WHERE (fincas.usuario_id = auth.uid()))))",null
public,tareas,insert own tarea,PERMISSIVE,INSERT,{authenticated},null,"(EXISTS ( SELECT 1
   FROM (cuarteles c
     JOIN fincas f ON ((f.id = c.finca_id)))
  WHERE ((c.id = tareas.cuartel_id) AND (f.usuario_id = auth.uid()))))"
public,tareas,select own tareas,PERMISSIVE,SELECT,{authenticated},"(EXISTS ( SELECT 1
   FROM (cuarteles c
     JOIN fincas f ON ((f.id = c.finca_id)))
  WHERE ((c.id = tareas.cuartel_id) AND (f.usuario_id = auth.uid()))))",null
public,tipos_tarea,Solo lectura para usuarios autenticados,PERMISSIVE,SELECT,{authenticated},true,null
public,usuarios,Admin y Superadmin pueden modificar usuarios,PERMISSIVE,UPDATE,{public},"(EXISTS ( SELECT 1
   FROM usuarios u
  WHERE ((u.id = auth.uid()) AND ((u.rol = 'admin'::text) OR (u.rol = 'superadmin'::text)))))",null
public,usuarios,Admins e ingenieros pueden ver todos los usuarios,PERMISSIVE,SELECT,{authenticated},"((id = auth.uid()) OR (((auth.jwt() -> 'user_metadata'::text) ->> 'rol'::text) = ANY (ARRAY['admin'::text, 'superadmin'::text, 'ingeniero'::text])))",null
public,usuarios,Anon insert usuarios,PERMISSIVE,INSERT,{anon},null,true
public,usuarios,Public insert usuarios,PERMISSIVE,INSERT,{public},null,true
public,usuarios,Public read usuarios,PERMISSIVE,SELECT,{public},true,null
public,usuarios,Superadmin puede editar todos,PERMISSIVE,UPDATE,{public},(rol = 'superadmin'::text),null
public,usuarios,Usuarios pueden editar sus datos,PERMISSIVE,UPDATE,{public},(auth.uid() = id),null
public,usuarios,Usuarios pueden editar sus datos y el superadmin todos,PERMISSIVE,UPDATE,{public},((auth.uid() = id) OR (rol = 'superadmin'::text)),null
public,usuarios,Usuarios pueden ver su rol y el superadmin todos,PERMISSIVE,SELECT,{public},((auth.uid() = id) OR (rol = 'superadmin'::text)),null
public,usuarios,Usuarios pueden ver sus datos,PERMISSIVE,SELECT,{public},((auth.uid() = id) OR (rol = 'superadmin'::text)),null
public,usuarios,Usuarios pueden ver sus datos y el superadmin todos,PERMISSIVE,SELECT,{public},((auth.uid() = id) OR (rol = 'superadmin'::text)),null
public,variedades,Solo lectura para usuarios autenticados,PERMISSIVE,SELECT,{authenticated},true,null
public,visitas,visitas_edit_admins,PERMISSIVE,ALL,{public},"(EXISTS ( SELECT 1
   FROM usuarios
  WHERE ((usuarios.id = auth.uid()) AND (usuarios.rol = ANY (ARRAY['ingeniero'::text, 'superadmin'::text])))))",null
public,visitas,visitas_prod_view,PERMISSIVE,SELECT,{public},"((id_productor = auth.uid()) OR (id_finca IN ( SELECT fincas.id
   FROM fincas
  WHERE (fincas.usuario_id = auth.uid()))) OR (id_cuartel IN ( SELECT c.id
   FROM (cuarteles c
     JOIN fincas f ON ((c.finca_id = f.id)))
  WHERE (f.usuario_id = auth.uid()))))",null